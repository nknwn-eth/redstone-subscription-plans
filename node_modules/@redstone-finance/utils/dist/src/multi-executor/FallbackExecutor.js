"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FallbackExecutor = void 0;
const Executor_1 = require("./Executor");
class FallbackExecutor extends Executor_1.Executor {
    timeoutMs;
    constructor(timeoutMs) {
        super();
        this.timeoutMs = timeoutMs;
    }
    async execute(functions) {
        const errors = [];
        for (const func of functions) {
            try {
                return await Executor_1.Executor.execFn(func, this.timeoutMs);
            }
            catch (error) {
                errors.push(error);
            }
        }
        throw new AggregateError(errors, "All promises failed");
    }
}
exports.FallbackExecutor = FallbackExecutor;
//# sourceMappingURL=FallbackExecutor.js.map