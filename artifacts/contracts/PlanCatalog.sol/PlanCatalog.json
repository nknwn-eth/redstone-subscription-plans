{
  "_format": "hh-sol-artifact-1",
  "contractName": "PlanCatalog",
  "sourceName": "contracts/PlanCatalog.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planIndex",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "merchant",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "asset",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "feedId",
              "type": "bytes32"
            },
            {
              "internalType": "uint16",
              "name": "callerFeeBps",
              "type": "uint16"
            },
            {
              "internalType": "uint256",
              "name": "usdCentsPerPeriod",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "period",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxUnitsPerCharge",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct PlanCatalog.Template",
          "name": "tpl",
          "type": "tuple"
        }
      ],
      "name": "PlanCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "PlanStatus",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planIndex",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "merchant",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "asset",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "feedId",
              "type": "bytes32"
            },
            {
              "internalType": "uint16",
              "name": "callerFeeBps",
              "type": "uint16"
            },
            {
              "internalType": "uint256",
              "name": "usdCentsPerPeriod",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "period",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxUnitsPerCharge",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct PlanCatalog.Template",
          "name": "tpl",
          "type": "tuple"
        }
      ],
      "name": "PlanUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "asset",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "usdCentsPerPeriod",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxUnitsPerCharge",
          "type": "uint256"
        },
        {
          "internalType": "uint16",
          "name": "callerFeeBps",
          "type": "uint16"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "createPlan",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "idx",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getPlan",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        }
      ],
      "name": "getPlanCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "setActive",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "asset",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "usdCentsPerPeriod",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxUnitsPerCharge",
          "type": "uint256"
        },
        {
          "internalType": "uint16",
          "name": "callerFeeBps",
          "type": "uint16"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "updatePlan",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610db2806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063347c66091461005c57806336b961e11461007157806368c2fe9914610097578063e60a955d146100bf578063e73ec817146100d2575b600080fd5b61006f61006a3660046106f6565b6100fb565b005b61008461007f36600461078e565b610223565b6040519081526020015b60405180910390f35b6100aa6100a5366004610819565b610463565b60405161008e99989796959493929190610889565b61006f6100cd3660046108f1565b6105b7565b6100846100e0366004610926565b6001600160a01b031660009081526020819052604090205490565b33600090815260208190526040812080548b90811061011c5761011c610948565b6000918252602090912060099091020180549091506001600160a01b031633146101795760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b60448201526064015b60405180910390fd5b6001810180546001600160a01b0319166001600160a01b038b161790556002810188905560048101879055600581018690556006810185905560038101805461ffff191661ffff8616179055600781016101d48385836109fd565b5089336001600160a01b03167fa4742413d858a9c48809c66d013534f1207ff2ff56a9520b2d37f5922a87b1198360405161020f9190610b3b565b60405180910390a350505050505050505050565b600080871161025e5760405162461bcd60e51b8152602060048201526007602482015266070726963653d360cc1b6044820152606401610170565b600086116102995760405162461bcd60e51b81526020600482015260086024820152670706572696f643d360c41b6044820152606401610170565b6000604051806101200160405280336001600160a01b031681526020018b6001600160a01b031681526020018a81526020018661ffff16815260200189815260200188815260200187815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250506001602093840181905233835282845260408084208054808401825590855293859020865160099095020180546001600160a01b03199081166001600160a01b03968716178255958701519281018054909616929094169190911790935550908201516002820155606082015160038201805461ffff191661ffff9092169190911790556080820151600482015560a0820151600582015560c0820151600682015560e0820151919250829160078201906103d99082610bf0565b5061010091909101516008909101805460ff19169115159190911790553360009081526020819052604090205461041290600190610cb0565b915081336001600160a01b03167fad3022b54a219ab939099d647f37e6abe05b70a8f7ea71a7e16101955c2e65c68360405161044e9190610cd7565b60405180910390a35098975050505050505050565b600080600080600080600060606000806000808d6001600160a01b03166001600160a01b031681526020019081526020016000208b815481106104a8576104a8610948565b6000918252602090912060099091020180546001820154600283015460038401546004850154600586015460068701546008880154600789018054999a506001600160a01b03988916999790981697959661ffff9095169593949293919260ff90911690829061051790610974565b80601f016020809104026020016040519081016040528092919081815260200182805461054390610974565b80156105905780601f1061056557610100808354040283529160200191610590565b820191906000526020600020905b81548152906001019060200180831161057357829003601f168201915b50505050509150995099509950995099509950995099509950509295985092959850929598565b3360009081526020819052604081208054849081106105d8576105d8610948565b6000918252602090912060099091020180549091506001600160a01b031633146106305760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b6044820152606401610170565b60088101805460ff1916831515908117909155604051908152839033907f0e8d8aff8aaabc2725b65a5b815584feafb66b9c337d3516e178958bf1f1cb149060200160405180910390a3505050565b80356001600160a01b038116811461069657600080fd5b919050565b803561ffff8116811461069657600080fd5b60008083601f8401126106bf57600080fd5b50813567ffffffffffffffff8111156106d757600080fd5b6020830191508360208285010111156106ef57600080fd5b9250929050565b60008060008060008060008060006101008a8c03121561071557600080fd5b8935985061072560208b0161067f565b975060408a0135965060608a0135955060808a0135945060a08a0135935061074f60c08b0161069b565b925060e08a013567ffffffffffffffff81111561076b57600080fd5b6107778c828d016106ad565b915080935050809150509295985092959850929598565b60008060008060008060008060e0898b0312156107aa57600080fd5b6107b38961067f565b9750602089013596506040890135955060608901359450608089013593506107dd60a08a0161069b565b925060c089013567ffffffffffffffff8111156107f957600080fd5b6108058b828c016106ad565b999c989b5096995094979396929594505050565b6000806040838503121561082c57600080fd5b6108358361067f565b946020939093013593505050565b6000815180845260005b818110156108695760208185018101518683018201520161084d565b506000602082860101526020601f19601f83011685010191505092915050565b600061012060018060a01b03808d168452808c1660208501525089604084015261ffff891660608401528760808401528660a08401528560c08401528060e08401526108d781840186610843565b9150508215156101008301529a9950505050505050505050565b6000806040838503121561090457600080fd5b823591506020830135801515811461091b57600080fd5b809150509250929050565b60006020828403121561093857600080fd5b6109418261067f565b9392505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061098857607f821691505b6020821081036109a857634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156109f857600081815260208120601f850160051c810160208610156109d55750805b601f850160051c820191505b818110156109f4578281556001016109e1565b5050505b505050565b67ffffffffffffffff831115610a1557610a1561095e565b610a2983610a238354610974565b836109ae565b6000601f841160018114610a5d5760008515610a455750838201355b600019600387901b1c1916600186901b178355610ab7565b600083815260209020601f19861690835b82811015610a8e5786850135825560209485019460019092019101610a6e565b5086821015610aab5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b60008154610acb81610974565b808552602060018381168015610ae85760018114610b0257610b30565b60ff1985168884015283151560051b880183019550610b30565b866000528260002060005b85811015610b285781548a8201860152908301908401610b0d565b890184019650505b505050505092915050565b60208152610b6460208201610b5784546001600160a01b031690565b6001600160a01b03169052565b6000610b7a60018401546001600160a01b031690565b6001600160a01b0316604083015260028301546060830152600383015461ffff166080830152600483015460a0830152600583015460c0830152600683015460e08301526101206101008301819052610bda610140840160078601610abe565b6008949094015460ff1615159201919091525090565b815167ffffffffffffffff811115610c0a57610c0a61095e565b610c1e81610c188454610974565b846109ae565b602080601f831160018114610c535760008415610c3b5750858301515b600019600386901b1c1916600185901b1785556109f4565b600085815260208120601f198616915b82811015610c8257888601518255948401946001909101908401610c63565b5085821015610ca05787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81810381811115610cd157634e487b7160e01b600052601160045260246000fd5b92915050565b60208152610cf16020820183516001600160a01b03169052565b60006020830151610d0d60408401826001600160a01b03169052565b50604083015160608301526060830151610d2d608084018261ffff169052565b50608083015160a083015260a083015160c083015260c083015160e083015260e08301516101206101008181860152610d6a610140860184610843565b9501511515930192909252509091905056fea264697066735822122061d6bfa15b700534b5e962a1f1d10a38af2f755924f3e0fb1bec9f2462ee8e6f64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c8063347c66091461005c57806336b961e11461007157806368c2fe9914610097578063e60a955d146100bf578063e73ec817146100d2575b600080fd5b61006f61006a3660046106f6565b6100fb565b005b61008461007f36600461078e565b610223565b6040519081526020015b60405180910390f35b6100aa6100a5366004610819565b610463565b60405161008e99989796959493929190610889565b61006f6100cd3660046108f1565b6105b7565b6100846100e0366004610926565b6001600160a01b031660009081526020819052604090205490565b33600090815260208190526040812080548b90811061011c5761011c610948565b6000918252602090912060099091020180549091506001600160a01b031633146101795760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b60448201526064015b60405180910390fd5b6001810180546001600160a01b0319166001600160a01b038b161790556002810188905560048101879055600581018690556006810185905560038101805461ffff191661ffff8616179055600781016101d48385836109fd565b5089336001600160a01b03167fa4742413d858a9c48809c66d013534f1207ff2ff56a9520b2d37f5922a87b1198360405161020f9190610b3b565b60405180910390a350505050505050505050565b600080871161025e5760405162461bcd60e51b8152602060048201526007602482015266070726963653d360cc1b6044820152606401610170565b600086116102995760405162461bcd60e51b81526020600482015260086024820152670706572696f643d360c41b6044820152606401610170565b6000604051806101200160405280336001600160a01b031681526020018b6001600160a01b031681526020018a81526020018661ffff16815260200189815260200188815260200187815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250506001602093840181905233835282845260408084208054808401825590855293859020865160099095020180546001600160a01b03199081166001600160a01b03968716178255958701519281018054909616929094169190911790935550908201516002820155606082015160038201805461ffff191661ffff9092169190911790556080820151600482015560a0820151600582015560c0820151600682015560e0820151919250829160078201906103d99082610bf0565b5061010091909101516008909101805460ff19169115159190911790553360009081526020819052604090205461041290600190610cb0565b915081336001600160a01b03167fad3022b54a219ab939099d647f37e6abe05b70a8f7ea71a7e16101955c2e65c68360405161044e9190610cd7565b60405180910390a35098975050505050505050565b600080600080600080600060606000806000808d6001600160a01b03166001600160a01b031681526020019081526020016000208b815481106104a8576104a8610948565b6000918252602090912060099091020180546001820154600283015460038401546004850154600586015460068701546008880154600789018054999a506001600160a01b03988916999790981697959661ffff9095169593949293919260ff90911690829061051790610974565b80601f016020809104026020016040519081016040528092919081815260200182805461054390610974565b80156105905780601f1061056557610100808354040283529160200191610590565b820191906000526020600020905b81548152906001019060200180831161057357829003601f168201915b50505050509150995099509950995099509950995099509950509295985092959850929598565b3360009081526020819052604081208054849081106105d8576105d8610948565b6000918252602090912060099091020180549091506001600160a01b031633146106305760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b6044820152606401610170565b60088101805460ff1916831515908117909155604051908152839033907f0e8d8aff8aaabc2725b65a5b815584feafb66b9c337d3516e178958bf1f1cb149060200160405180910390a3505050565b80356001600160a01b038116811461069657600080fd5b919050565b803561ffff8116811461069657600080fd5b60008083601f8401126106bf57600080fd5b50813567ffffffffffffffff8111156106d757600080fd5b6020830191508360208285010111156106ef57600080fd5b9250929050565b60008060008060008060008060006101008a8c03121561071557600080fd5b8935985061072560208b0161067f565b975060408a0135965060608a0135955060808a0135945060a08a0135935061074f60c08b0161069b565b925060e08a013567ffffffffffffffff81111561076b57600080fd5b6107778c828d016106ad565b915080935050809150509295985092959850929598565b60008060008060008060008060e0898b0312156107aa57600080fd5b6107b38961067f565b9750602089013596506040890135955060608901359450608089013593506107dd60a08a0161069b565b925060c089013567ffffffffffffffff8111156107f957600080fd5b6108058b828c016106ad565b999c989b5096995094979396929594505050565b6000806040838503121561082c57600080fd5b6108358361067f565b946020939093013593505050565b6000815180845260005b818110156108695760208185018101518683018201520161084d565b506000602082860101526020601f19601f83011685010191505092915050565b600061012060018060a01b03808d168452808c1660208501525089604084015261ffff891660608401528760808401528660a08401528560c08401528060e08401526108d781840186610843565b9150508215156101008301529a9950505050505050505050565b6000806040838503121561090457600080fd5b823591506020830135801515811461091b57600080fd5b809150509250929050565b60006020828403121561093857600080fd5b6109418261067f565b9392505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061098857607f821691505b6020821081036109a857634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156109f857600081815260208120601f850160051c810160208610156109d55750805b601f850160051c820191505b818110156109f4578281556001016109e1565b5050505b505050565b67ffffffffffffffff831115610a1557610a1561095e565b610a2983610a238354610974565b836109ae565b6000601f841160018114610a5d5760008515610a455750838201355b600019600387901b1c1916600186901b178355610ab7565b600083815260209020601f19861690835b82811015610a8e5786850135825560209485019460019092019101610a6e565b5086821015610aab5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b60008154610acb81610974565b808552602060018381168015610ae85760018114610b0257610b30565b60ff1985168884015283151560051b880183019550610b30565b866000528260002060005b85811015610b285781548a8201860152908301908401610b0d565b890184019650505b505050505092915050565b60208152610b6460208201610b5784546001600160a01b031690565b6001600160a01b03169052565b6000610b7a60018401546001600160a01b031690565b6001600160a01b0316604083015260028301546060830152600383015461ffff166080830152600483015460a0830152600583015460c0830152600683015460e08301526101206101008301819052610bda610140840160078601610abe565b6008949094015460ff1615159201919091525090565b815167ffffffffffffffff811115610c0a57610c0a61095e565b610c1e81610c188454610974565b846109ae565b602080601f831160018114610c535760008415610c3b5750858301515b600019600386901b1c1916600185901b1785556109f4565b600085815260208120601f198616915b82811015610c8257888601518255948401946001909101908401610c63565b5085821015610ca05787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81810381811115610cd157634e487b7160e01b600052601160045260246000fd5b92915050565b60208152610cf16020820183516001600160a01b03169052565b60006020830151610d0d60408401826001600160a01b03169052565b50604083015160608301526060830151610d2d608084018261ffff169052565b50608083015160a083015260a083015160c083015260c083015160e083015260e08301516101206101008181860152610d6a610140860184610843565b9501511515930192909252509091905056fea264697066735822122061d6bfa15b700534b5e962a1f1d10a38af2f755924f3e0fb1bec9f2462ee8e6f64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
